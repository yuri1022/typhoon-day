"use strict";(self.webpackChunktyphoon=self.webpackChunktyphoon||[]).push([[6375],{10947:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>i,n:()=>l,s:()=>u,t:()=>f});r(81806);var n=r(76460);function o(e,t,r){f(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function f(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;if(e.length/n!=t.length/o)return;const f=e.length/n,l=r[0],i=r[1],u=r[2],c=r[3],a=r[4],s=r[5],d=r[6],p=r[7],y=r[8];let m=0,g=0;for(let T=0;T<f;T++){const r=t[m],f=t[m+1],T=t[m+2],h=t[m+3];e[g]=l*r+c*f+d*T,e[g+1]=i*r+a*f+p*T,e[g+2]=u*r+s*f+y*T,e[g+3]=h,m+=o,g+=n}}function l(e,t){const r=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,f=t.typedBuffer,l=t.typedBufferStride;for(let i=0;i<r;i++){const e=i*o,t=i*l,r=f[t],u=f[t+1],c=f[t+2],a=r*r+u*u+c*c;if(a>0){const t=1/Math.sqrt(a);n[e]=t*r,n[e+1]=t*u,n[e+2]=t*c}}}function i(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const o=Math.min(e.length/n,t.count),f=t.typedBuffer,l=t.typedBufferStride;let i=0,u=0;for(let c=0;c<o;c++)e[u]=r*f[i],e[u+1]=r*f[i+1],e[u+2]=r*f[i+2],e[u+3]=r*f[i+3],i+=l,u+=n}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,scale:u,scaleView:i,transformMat3:f,transformMat3View:o,transformMat4:function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(e.length/o!=t.length/f)return void n.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const l=e.length/o,i=r[0],u=r[1],c=r[2],a=r[3],s=r[4],d=r[5],p=r[6],y=r[7],m=r[8],g=r[9],T=r[10],h=r[11],v=r[12],A=r[13],P=r[14],M=r[15];let B=0,O=0;for(let n=0;n<l;n++){const r=t[B],n=t[B+1],l=t[B+2],N=t[B+3];e[O]=i*r+s*n+m*l+v*N,e[O+1]=u*r+d*n+g*l+A*N,e[O+2]=c*r+p*n+T*l+P*N,e[O+3]=a*r+y*n+h*l+M*N,B+=f,O+=o}},transformMat4View:function(e,t,r){if(e.count!==t.count)return;const n=e.count,o=r[0],f=r[1],l=r[2],i=r[3],u=r[4],c=r[5],a=r[6],s=r[7],d=r[8],p=r[9],y=r[10],m=r[11],g=r[12],T=r[13],h=r[14],v=r[15],A=e.typedBuffer,P=e.typedBufferStride,M=t.typedBuffer,B=t.typedBufferStride;for(let O=0;O<n;O++){const e=O*P,t=O*B,r=M[t],n=M[t+1],N=M[t+2],S=M[t+3];A[e]=o*r+u*n+d*N+g*S,A[e+1]=f*r+c*n+p*N+T*S,A[e+2]=l*r+a*n+y*N+h*S,A[e+3]=i*r+s*n+m*N+v*S}}},Symbol.toStringTag,{value:"Module"}))},26375:(e,t,r)=>{r.d(t,{$5:()=>N,CN:()=>P,JP:()=>A,KM:()=>F,Mv:()=>E,X4:()=>M,gr:()=>O,project:()=>w,qs:()=>S,si:()=>B,xA:()=>_});var n=r(15941),o=r(63919),f=r(44680),l=r(34761),i=r(13191),u=r(20664),c=r(9392),a=r(26346),s=r(98510),d=r(90707),p=r(45308),y=r(44815),m=(r(14556),r(80963)),g=r(45417),T=r(88105),h=r(45136),v=r(10947);const A="Projection may be possible after calling projection.load().";function P(e,t,r,n){e.error("Failed to project from (wkid:".concat(t.wkid,") to (wkid:").concat(r.wkid,").").concat(n?" ":"").concat(n))}function M(e,t,r,n,o){return b(x.TO_PCPF,T.xs.fromTypedArray(e),R.NORMAL,T.Xm.fromTypedArray(t),T.Xm.fromTypedArray(r),n,T.xs.fromTypedArray(o))?o:null}function B(e,t,r,n,o){return b(x.FROM_PCPF,T.xs.fromTypedArray(e),R.NORMAL,T.Xm.fromTypedArray(t),T.Xm.fromTypedArray(r),n,T.xs.fromTypedArray(o))?o:null}function O(e,t,r){return(0,p.projectBuffer)(e,t,0,r,(0,s.lO)(t),0,e.length/3)?r:null}function N(e,t,r){return(0,p.projectBuffer)(e,(0,s.lO)(r),0,t,r,0,e.length/3)?t:null}function S(e,t,r){return(0,o.Ge)(k,r),(0,h.t)(t,e,k),(0,n.or)(k)&&(0,h.n)(t,t),t}function F(e,t,r){return(0,o.z0)(k,r),(0,v.t)(t,e,k),(0,n.or)(k)&&(0,h.n)(t,t,4),t}function _(e,t,r,n,o){if(!b(x.TO_PCPF,T.xs.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),R.TANGENT,T.Xm.fromTypedArray(t),T.Xm.fromTypedArray(r),n,T.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let f=3;f<e.length;f+=4)o[f]=e[f];return o}function E(e,t,r,n,o){if(!b(x.FROM_PCPF,T.xs.fromTypedArray(e,16),R.TANGENT,T.Xm.fromTypedArray(t),T.Xm.fromTypedArray(r),n,T.xs.fromTypedArray(o,16)))return null;for(let f=3;f<e.length;f+=4)o[f]=e[f];return o}var R,x,j;function C(e,t,r,n,f){switch((0,d.l)(n,r,X,n),e===x.FROM_PCPF&&(0,l.B8)(X,X),t){case R.NORMAL:return(0,o.Ge)(f,X);case R.TANGENT:return(0,o.z0)(f,X)}}function b(e,t,r,n,o,f,l){if(!t)return;const i=n.count,c=(0,s.lO)(f);if(function(e){return e.isWGS84||(0,m.x1)(e)||(0,m.q8)(e)||(0,m.KQ)(e)}(f))for(let a=0;a<i;a++)o.getVec(a,G),t.getVec(a,V),(0,u.t)(V,V,C(e,r,G,c,k)),l.setVec(a,V);else for(let a=0;a<i;a++){o.getVec(a,G),t.getVec(a,V);const f=(0,g.jg)(n.get(a,1));let i=Math.cos(f);r===R.TANGENT!=(e===x.TO_PCPF)&&(i=1/i),C(e,r,G,c,k),e===x.TO_PCPF?(k[0]*=i,k[1]*=i,k[2]*=i,k[3]*=i,k[4]*=i,k[5]*=i):(k[0]*=i,k[3]*=i,k[6]*=i,k[1]*=i,k[4]*=i,k[7]*=i),(0,u.t)(V,V,k),(0,u.n)(V,V),l.setVec(a,V)}return l}function w(e){return"local"===e.vertexSpace.type?function(e){var t,r;let{vertexSpace:n,transform:o,inSpatialReference:f,outSpatialReference:u,localMode:m,outPositions:g,positions:T}=e;const v=null!==(t=n.origin)&&void 0!==t?t:c.uY,A=null!=n.origin&&null!==(r=null===o||void 0===o?void 0:o.localMatrix)&&void 0!==r?r:i.zK,P=(0,s.lO)(f),M=u.isWebMercator&&m||!(0,a.canProjectWithoutEngine)(f,P)?f:P;(0,d.l)(f,v,X,M),(0,l.lw)(X,X,A);const B=null!==g&&void 0!==g?g:(0,y.jh)(T.length);return(0,h.a)(B,T,X),(0,p.projectBuffer)(B,M,0,B,u,0,B.length/3),B}(e):function(e){var t,r;let{vertexSpace:n,transform:o,outPositions:f,positions:a,inSpatialReference:s,outSpatialReference:d}=e;const m=null!=n.origin&&null!==(t=null===o||void 0===o?void 0:o.localMatrix)&&void 0!==t?t:i.zK,g=null!==f&&void 0!==f?f:(0,y.jh)(a.length);(0,l.aI)(m,i.zK)?(0,y.s)(g,a):(0,h.a)(g,a,m);const T=null!==(r=n.origin)&&void 0!==r?r:c.uY;if(!(0,u.e)(T,c.uY)){const[e,t,r]=T;for(let n=0;n<g.length;n+=3)g[n]+=e,g[n+1]+=t,g[n+2]+=r}return(0,p.projectBuffer)(g,s,0,g,d,0,g.length/3)?g:null}(e)}(j=R||(R={}))[j.NORMAL=0]="NORMAL",j[j.TANGENT=1]="TANGENT",function(e){e[e.TO_PCPF=0]="TO_PCPF",e[e.FROM_PCPF=1]="FROM_PCPF"}(x||(x={}));const G=(0,c.vt)(),V=(0,c.vt)(),X=(0,i.vt)(),k=(0,f.vt)()}}]);
//# sourceMappingURL=6375.2cf36c46.chunk.js.map