{"version":3,"file":"static/js/6693.18cdaf33.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/ByteSizeUnit.js","../node_modules/@arcgis/core/core/LRUCache.js","../node_modules/@arcgis/core/core/MemCache.js","../node_modules/@arcgis/core/layers/mixins/ArcGISService.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/geometry/support/UintArray.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.KILOBYTES=1024]=\"KILOBYTES\",E[E.MEGABYTES=1048576]=\"MEGABYTES\",E[E.GIGABYTES=1073741824]=\"GIGABYTES\"}(E||(E={}));export{E as ByteSizeUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";class e{constructor(e,s){this._storage=new t,this.id=\"\",this.name=\"\",this.size=0,this._storage.maxSize=e,this._storage.register(this),s&&this._storage.registerRemoveFunc(\"\",s)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,s=1){this._storage.put(this,t,e,s,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}export{e as LRUCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3,s=e-1;var i;!function(t){t[t.ALL=0]=\"ALL\",t[t.SOME=1]=\"SOME\"}(i||(i={}));class r{constructor(t,e,s){this.name=t,this._storage=e,this.id=o+++\":\",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),s&&(this._storage.registerRemoveFunc(this.id,s),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,e,s,i=0){this._storage.put(this,t,e,s,i)}pop(t){const e=this._storage.pop(this,t);return void 0===e?++this._miss:++this._hit,e}get(t){const e=this._storage.get(this,t);return void 0===e?++this._miss:++this._hit,e}peek(t){return this._storage.peek(this,t)}updateSize(t,e,s){this._storage.updateSize(this,t,e,s)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class h{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new t,this._users=new t}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,e){const s=this._db.get(t.id+e);return s?.size??0}put(t,r,h,o,_){r=t.id+r;const a=this._db.get(r);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(r),a.entry!==h&&this._notifyRemove(r,a.entry,a.size,i.ALL)),o>this._maxSize)return void this._notifyRemove(r,h,o,i.ALL);if(void 0===h)return void console.warn(\"Refusing to cache undefined entry \");if(!o||o<0)return console.warn(`Refusing to cache entry with size ${o} for key ${r}`),void this._notifyRemove(r,h,0,i.ALL);const c=1+Math.max(_,s)-e;this._db.set(r,new n(h,o,c)),this._size+=o,t.size+=o,this._checkSize()}updateSize(t,e,s,r){e=t.id+e;const h=this._db.get(e);if(h&&h.entry===s){for(this._size-=h.size,t.size-=h.size;r>this._maxSize;){const t=this._notifyRemove(e,s,r,i.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);r=t}h.size=r,this._size+=r,t.size+=r,this._checkSize()}}pop(t,e){e=t.id+e;const s=this._db.get(e);if(s)return this._size-=s.size,t.size-=s.size,this._db.delete(e),++this._hit,s.entry;++this._miss}get(t,e){e=t.id+e;const s=this._db.get(e);if(void 0!==s)return this._db.delete(e),s.lives=s.lifetime,this._db.set(e,s),++this._hit,s.entry;++this._miss}peek(t,e){const s=this._db.get(t.id+e);return s?++this._hit:++this._miss,s?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},s={},i=new Array;this._db.forEach(((t,e)=>{const r=t.lifetime;i[r]=(i[r]||0)+t.size,this._users.forAll((i=>{const{id:r,name:h}=i;if(e.startsWith(r)){const e=s[h]||0;s[h]=e+t.size}}))}));const r={};this._users.forAll((t=>{const e=t.name;if(\"hitRate\"in t&&\"number\"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const i=s[e]||0;s[e]=i,r[e]=Math.round(100*t.hitRate)+\"%\"}else r[e]=\"0%\"}));const h=Object.keys(s);h.sort(((t,e)=>s[e]-s[t])),h.forEach((e=>t[e]=Math.round(s[e]/2**20)+\"MB / \"+r[e]));for(let o=i.length-1;o>=0;--o){const s=i[o];s&&(t[\"Priority \"+(o+e-1)]=Math.round(s/this._size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,s)=>{s.startsWith(e)&&(this._size-=t.size,this._db.delete(s),this._notifyRemove(s,t.entry,t.size,i.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,t.size,i.ALL))),this._users.forAll((t=>t.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,s,i){let r;return this._removeFuncs.some((h=>{if(t.startsWith(h[0])){const t=h[1](e,i,s);return\"number\"==typeof t&&(r=t),!0}return!1})),r}_checkSize(){this._users.forAll((t=>this._checkSizeLimits(t))),this._checkSizeLimits()}_checkSizeLimits(t){const e=t??this;if(e.maxSize<0||e.size<=e.maxSize)return;const s=t?.id;let i=!0;for(;i;){i=!1;for(const[r,h]of this._db)if(0===h.lifetime&&(!s||r.startsWith(s))){if(this._purgeItem(r,h,t),e.size<=.9*e.maxSize)return;i||=this._db.has(r)}}for(const[r,h]of this._db)if((!s||r.startsWith(s))&&(this._purgeItem(r,h,t),e.size<=.9*e.maxSize))return}_purgeItem(t,e,s=this._users.find((e=>t.startsWith(e.id)))){if(this._db.delete(t),e.lives<=1){this._size-=e.size,s&&(s.size-=e.size);const r=this._notifyRemove(t,e.entry,e.size,i.SOME);null!=r&&r>0&&(this._size+=r,s&&(s.size+=r),e.lives=e.lifetime,e.size=r,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}let o=0;class n{constructor(t,e,s){this.entry=t,this.size=e,this.lifetime=s,this.lives=s}}export{r as MemCache,h as MemCacheStorage,e as MinPriority,s as NoPriority,i as RemoveMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Logger.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as i,sanitizeUrl as o}from\"../support/arcgisLayerUrl.js\";const l=l=>{let p=class extends l{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(null!=t&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",o(t,r.getLogger(this)))}};return t([e()],p.prototype,\"title\",null),t([e({type:String})],p.prototype,\"url\",null),p=t([s(\"esri.layers.mixins.ArcGISService\")],p),p};export{l as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{isAbortError as n,isAborted as c,onAbort as h,createAbortError as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{Tilemap as b,tilemapDefinitionId as g}from\"./Tilemap.js\";var w;let j=w=class extends i{constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles(m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):this._fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof b){const l=r.getAvailability(t,i);if(\"unavailable\"===l)throw new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return l}if(n(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(n(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let h=!1;const p=l((()=>{h||(h=!0,n.abort())}));if(this.addHandles(p,a),await u(10,n.signal).catch((()=>{})),h||(h=!0,this.removeHandles(a)),c(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{h(a,(()=>t(p())));const i=g(l);let s=this._pendingTilemapRequests[i];if(!s){s=b.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=g(r);return this._tilemapCache.get(s)}get test(){}};j._maxPrefetch=4,j._prefetches=new a({initialSize:w._maxPrefetch}),e([y({constructOnly:!0})],j.prototype,\"layer\",void 0),e([y({constructOnly:!0})],j.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],j.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],j.prototype,\"request\",void 0),e([y({constructOnly:!0})],j.prototype,\"size\",void 0),j=w=e([d(\"esri.layers.support.TilemapCache\")],j);export{j as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import i from\"../../core/Error.js\";import{clone as e}from\"../../core/lang.js\";import{estimateSize as a}from\"../../core/typedArrayUtil.js\";import{newUintArray as o}from\"../../geometry/support/UintArray.js\";class l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze(e(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=o(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability=\"unavailable\",this.byteSize=40):h?(this._availability=\"available\",this.byteSize=40):(this._availability=f,this.byteSize=40+a(f))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(e,a){const o=e.service.request||t,{row:r,col:s,width:h,height:c}=e,m={query:{f:\"json\"}};return a=a?{...m,...a}:m,o(n(e),a).then((t=>t.data)).catch((t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t})).then((t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:r,left:s,width:h,height:c}});return l.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new l(t))}}function r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}export{l as Tilemap,r as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,e=!1){return n<=r?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}export{n as newUintArray,e as uintSubArray};\n"],"names":["E","KILOBYTES","MEGABYTES","GIGABYTES","e","constructor","s","this","_storage","t","id","name","size","maxSize","register","registerRemoveFunc","destroy","deregister","put","arguments","length","undefined","pop","get","clear","clearAll","resetHitRate","i","ALL","SOME","r","o","_removeFunc","_hit","_miss","deregisterRemoveFunc","hitRate","storageSize","getSize","peek","updateSize","performanceInfo","resetStats","h","_size","_maxSize","_db","Map","_removeFuncs","_users","push","removeUnordered","filterInPlace","Math","max","_checkSize","_s$size","_","a","delete","entry","_notifyRemove","console","warn","concat","c","set","n","lives","lifetime","Size","round","_getHitRate","Entries","toString","Array","forEach","forAll","startsWith","isNaN","Object","keys","sort","some","_checkSizeLimits","_purgeItem","has","find","l","p","title","_get","originOf","url","_set","getLogger","prototype","type","String","w","location","valid","data","isArray","width","height","freeze","f","fill","Uint32Array","ceil","_availability","byteSize","getAvailability","top","left","fromDefinition","service","request","row","col","m","query","_t$service$tileServer","tileServers","level","then","catch","_t$details","details","httpStatus","response","definition","fromJSON","j","super","_pendingTilemapRequests","_prefetchingEnabled","initialize","_tilemapCache","addHandles","layer","parsedUrl","apiKey","customParameters","_initializeTilemapDefinition","effectiveMinLOD","_this$minLOD","minLOD","tileInfo","lods","effectiveMaxLOD","_this$maxLOD","maxLOD","lodAt","_tilemapFromCache","_tmpTilemapDefinition","fetchAvailability","Promise","reject","_fetchTilemap","b","fetchAvailabilityUpsample","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","hasHandles","AbortController","abort","u","signal","removeHandles","v","_prefetches","_maxPrefetch","_r","resolve","g","_e$query","path","token","test","initialSize","y","constructOnly","d"],"sourceRoot":""}