"use strict";(self.webpackChunktyphoon=self.webpackChunktyphoon||[]).push([[842,4920],{64920:(e,t,n)=>{n.d(t,{GB:()=>r,Qo:()=>s,Y4:()=>l});var i=n(24241);class r{}function l(e){return e instanceof i.bo?e===r.instance:"unknown"===(null===e||void 0===e?void 0:e.toString().toLowerCase())}function s(e){return l(e)?r.instance:e}r.instance=new i.oh("Etc/UTC")},28778:(e,t,n)=>{n.d(t,{g:()=>i});const i={convertToGEGeometry:function(e,t){return null==t?null:e.convertJSONToGeometry(t)},exportPoint:function(e,t,n){const i=new r(e.getPointX(t),e.getPointY(t),n),l=e.hasZ(t),s=e.hasM(t);return l&&(i.z=e.getPointZ(t)),s&&(i.m=e.getPointM(t)),i},exportPolygon:function(e,t,n){return new l(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportPolyline:function(e,t,n){return new s(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportMultipoint:function(e,t,n){return new o(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))},exportExtent:function(e,t,n){const i=e.hasZ(t),r=e.hasM(t),l=new a(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(i){const n=e.getZExtent(t);l.zmin=n.vmin,l.zmax=n.vmax}if(r){const n=e.getMExtent(t);l.mmin=n.vmin,l.mmax=n.vmax}return l}};class r{constructor(e,t,n){this.x=e,this.y=t,this.spatialReference=n,this.z=void 0,this.m=void 0}}class l{constructor(e,t,n,i){this.rings=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class s{constructor(e,t,n,i){this.paths=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(e,t,n,i){this.points=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(e,t,n,i,r){this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},76279:(e,t,n)=>{n.d(t,{$X:()=>x,Gy:()=>S,P5:()=>I,SW:()=>F,Tr:()=>R,VV:()=>i});n(19902);function i(e){var t,n;return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,null!==(t=e.extent.zmin)&&void 0!==t?t:0,null!==(n=e.extent.mmin)&&void 0!==n?n:0]:[0,0,0,0]}:null}function r(e){var t,n,i,r,l,s,o,a;if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:u,scale:c,translate:d}=e,f=null!==(t=c[0])&&void 0!==t?t:1,h=null!==(n=c[1])&&void 0!==n?n:1;return{originPosition:"lowerLeft",scale:[f,"lowerLeft"===u?h:-h,null!==(i=c[2])&&void 0!==i?i:1,null!==(r=c[3])&&void 0!==r?r:1],translate:[null!==(l=d[0])&&void 0!==l?l:0,null!==(s=d[1])&&void 0!==s?s:0,null!==(o=d[2])&&void 0!==o?o:0,null!==(a=d[3])&&void 0!==a?a:0]}}function l(e,t){let{scale:n,translate:i}=e;return Math.round((t-i[0])/n[0])}function s(e,t){let{scale:n,translate:i}=e;return Math.round((t-i[1])/n[1])}function o(e,t){let{scale:n,translate:i}=e;return Math.round(((null!==t&&void 0!==t?t:0)-i[2])/n[2])}function a(e,t){let{scale:n,translate:i}=e;return t?Math.round((t-i[3])/n[3]):0}function u(e,t){let{scale:n,translate:i}=e;return t*n[0]+i[0]}function c(e,t){let{scale:n,translate:i}=e;return t*n[1]+i[1]}function d(e,t){let{scale:n,translate:i}=e;return(null!==t&&void 0!==t?t:0)*n[2]+i[2]}function f(e,t){let{scale:n,translate:i}=e;return t?t*n[3]+i[3]:0}function h(e,t){return e&&t?g:e&&!t?p:!e&&t?v:m}const m=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=u(e,i[0]),l=c(e,i[1]);n[0]=[r,l];const{scale:s,originPosition:o}=e,a=s[0],d="lowerLeft"===o?s[1]:-s[1];for(let u=1;u<t.length;u++){const[e,i]=t[u];r+=a*e,l+=d*i,n[u]=[r,l]}return n},p=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=u(e,i[0]),l=c(e,i[1]);n[0]=[r,l,d(e,i[2])];const{scale:s,originPosition:o}=e,a=s[0],f="lowerLeft"===o?s[1]:-s[1];for(let u=1;u<t.length;u++){const[i,s,o]=t[u];r+=a*i,l+=f*s,n[u]=[r,l,d(e,o)]}return n},v=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=u(e,i[0]),l=c(e,i[1]);n[0]=[r,l,f(e,i[2])];const{scale:s,originPosition:o}=e,a=s[0],d="lowerLeft"===o?s[1]:-s[1];for(let u=1;u<t.length;u++){const[i,s,o]=t[u];r+=a*i,l+=d*s,n[u]=[r,l,f(e,o)]}return n},g=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=u(e,i[0]),l=c(e,i[1]);n[0]=[r,l,d(e,i[2]),f(e,i[3])];const{scale:s,originPosition:o}=e,a=s[0],h="lowerLeft"===o?s[1]:-s[1];for(let u=1;u<t.length;u++){const[i,s,o,c]=t[u];r+=a*i,l+=h*s,n[u]=[r,l,d(e,o),f(e,c)]}return n};function y(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=t(e,n[r]);return i}function S(e,t,n){const i=r(e);return t.x=l(i,n.x),t.y=s(i,n.y),null!=n.z&&(t.z=o(i,n.z)),null!=n.m&&(t.m=a(i,n.m)),t}function F(e,t,n){var i,l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(i=null===n||void 0===n?void 0:n.hasZ)&&void 0!==i&&i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(l=null===n||void 0===n?void 0:n.hasM)&&void 0!==l&&l;if(null!=n){const i=r(e);t.points=h(s,o)(i,n.points),t.hasZ=s,t.hasM=o}return t}function R(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!=(null===n||void 0===n?void 0:n.z),l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!=(null===n||void 0===n?void 0:n.m);if(null==n)return t;const s=r(e);return t.x=u(s,n.x),t.y=c(s,n.y),i&&(t.z=d(s,n.z)),l&&(t.m=f(s,n.m)),t}function x(e,t,n){var i,l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(i=null===n||void 0===n?void 0:n.hasZ)&&void 0!==i&&i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(l=null===n||void 0===n?void 0:n.hasM)&&void 0!==l&&l;if(null!=n){const i=r(e);t.rings=y(i,h(s,o),n.rings),t.hasZ=s,t.hasM=o}return t}function I(e,t,n){var i,l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(i=null===n||void 0===n?void 0:n.hasZ)&&void 0!==i&&i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(l=null===n||void 0===n?void 0:n.hasM)&&void 0!==l&&l;if(null!=n){const i=r(e);t.paths=y(i,h(s,o),n.paths),t.hasZ=s,t.hasM=o}return t}},90321:(e,t,n)=>{function i(e,t){return e?t?4:3:t?3:2}function r(e,t,n,r){if(null===t||void 0===t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const o=e.coords,a=[],u=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:c,coords:d}=t,f=i(n,r);let h=0;for(const i of c){const e=l(u,d,h,i,n,r);e&&a.push(e),h+=i*f}if(a.sort(((e,t)=>{let i=e[2]-t[2];return 0===i&&n&&(i=e[4]-t[4]),i})),a.length){let e=6*a[0][2];o[0]=a[0][0]/e,o[1]=a[0][1]/e,n&&(e=6*a[0][4],o[2]=0!==e?a[0][3]/e:0),(o[0]<u[0]||o[0]>u[1]||o[1]<u[2]||o[1]>u[3]||n&&(o[2]<u[4]||o[2]>u[5]))&&(o.length=0)}if(!o.length){const e=t.lengths[0]?s(d,0,c[0],n,r):null;if(!e)return null;o[0]=e[0],o[1]=e[1],n&&e.length>2&&(o[2]=e[2])}return e}function l(e,t,n,r,l,s){const o=i(l,s);let a=n,u=n+o,c=0,d=0,f=0,h=0,m=0;for(let i=0,v=r-1;i<v;i++,a+=o,u+=o){const n=t[a],i=t[a+1],r=t[a+2],s=t[u],o=t[u+1],p=t[u+2];let v=n*o-s*i;h+=v,c+=(n+s)*v,d+=(i+o)*v,l&&(v=n*p-s*r,f+=(r+p)*v,m+=v),n<e[0]&&(e[0]=n),n>e[1]&&(e[1]=n),i<e[2]&&(e[2]=i),i>e[3]&&(e[3]=i),l&&(r<e[4]&&(e[4]=r),r>e[5]&&(e[5]=r))}if(h>0&&(h*=-1),m>0&&(m*=-1),!h)return null;const p=[c,d,.5*h];return l&&(p[3]=f,p[4]=.5*m),p}function s(e,t,n,r,l){const s=i(r,l);let d=t,f=t+s,h=0,m=0,p=0,v=0;for(let i=0,g=n-1;i<g;i++,d+=s,f+=s){const t=e[d],n=e[d+1],i=e[d+2],l=e[f],s=e[f+1],g=e[f+2],y=r?a(t,n,i,l,s,g):o(t,n,l,s);if(y)if(h+=y,r){const e=c(t,n,i,l,s,g);m+=y*e[0],p+=y*e[1],v+=y*e[2]}else{const e=u(t,n,l,s);m+=y*e[0],p+=y*e[1]}}return h>0?r?[m/h,p/h,v/h]:[m/h,p/h]:n>0?r?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function o(e,t,n,i){const r=n-e,l=i-t;return Math.sqrt(r*r+l*l)}function a(e,t,n,i,r,l){const s=i-e,o=r-t,a=l-n;return Math.sqrt(s*s+o*o+a*a)}function u(e,t,n,i){return[e+.5*(n-e),t+.5*(i-t)]}function c(e,t,n,i,r,l){return[e+.5*(i-e),t+.5*(r-t),n+.5*(l-n)]}n.d(t,{Q:()=>r})},55167:(e,t,n)=>{n.d(t,{LQ:()=>u,ag:()=>d,pL:()=>c});var i=n(98618),r=n(1484);const l=new r.A,s=new r.A,o=new r.A,a={esriGeometryPoint:i.DF,esriGeometryPolyline:i.BW,esriGeometryPolygon:i.z5,esriGeometryMultipoint:i.qK};function u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.hasZ,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.hasM;if(null==t)return null;const s=e.hasZ&&r,a=e.hasM&&l;if(n){const u=(0,i.Nl)(o,t,e.hasZ,e.hasM,"esriGeometryPoint",n,r,l);return(0,i.DF)(u,s,a)}return(0,i.DF)(t,s,a)}function c(e,t,n,r,u,c){var d,f;let h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t,m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;const p=t&&h,v=n&&m,g=null!=r?"coords"in r?r:r.geometry:null;if(null==g)return null;if(u){var y,S;let r=(0,i.kz)(s,g,t,n,e,u,h,m);return c&&(r=(0,i.Nl)(o,r,p,v,e,c)),null!==(y=null===(S=a[e])||void 0===S?void 0:S.call(a,r,p,v))&&void 0!==y?y:null}if(c){var F,R;const r=(0,i.Nl)(o,g,t,n,e,c,h,m);return null!==(F=null===(R=a[e])||void 0===R?void 0:R.call(a,r,p,v))&&void 0!==F?F:null}return(0,i.Q4)(l,g,t,n,h,m),null!==(d=null===(f=a[e])||void 0===f?void 0:f.call(a,l,p,v))&&void 0!==d?d:null}function d(e){return e&&f in e?JSON.parse(JSON.stringify(e,h)):e}const f="_geVersion",h=(e,t)=>e!==f?t:void 0},24586:(e,t,n)=>{n.d(t,{Cv:()=>v,Nk:()=>h,lK:()=>y});var i=n(18690),r=n(50346),l=n(26346),s=n(28778),o=n(80963),a=n(45417);const u=[0,0];function c(e,t){if(!t)return null;if("x"in t){const n={x:0,y:0};return[n.x,n.y]=e(t.x,t.y,u),null!=t.z&&(n.z=t.z),null!=t.m&&(n.m=t.m),n}if("xmin"in t){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=e(t.xmin,t.ymin,u),[n.xmax,n.ymax]=e(t.xmax,t.ymax,u),t.hasZ&&(n.zmin=t.zmin,n.zmax=t.zmax,n.hasZ=!0),t.hasM&&(n.mmin=t.mmin,n.mmax=t.mmax,n.hasM=!0),n}return"rings"in t?{rings:d(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:d(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:f(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:null}function d(e,t){const n=[];for(const i of e)n.push(f(i,t));return n}function f(e,t){const n=[];for(const i of e){const e=t(i[0],i[1],[0,0]);n.push(e),i.length>2&&e.push(i[2]),i.length>3&&e.push(i[3])}return n}async function h(e,t){if(!e||!t)return;const n=Array.isArray(e)?e.map((e=>null!=e.geometry?e.geometry.spatialReference:null)).filter(i.Ru):[e];await(0,l.initializeProjection)(n.map((e=>({source:e,dest:t}))))}const m=c.bind(null,a.je),p=c.bind(null,a.tD);function v(e,t,n,i){if(!e)return e;if(n||(n=t,t=e.spatialReference),!(0,o.fn)(t)||!(0,o.fn)(n)||(0,o.aI)(t,n))return e;if((0,a.y7)(t,n)){const t=(0,o.K8)(n)?m(e):p(e);return t.spatialReference=n,t}return(0,l.projectMany)(s.g,[e],t,n,null,i)[0]}const g=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(e,t,n,i){var l;if(null===e||void 0===e||!e.length||!t||!n||(0,o.aI)(t,n))return e;const s={geometries:e,inSpatialReference:t,outSpatialReference:n,geographicTransformation:i,resolve:(0,r.Tw)()};return this._jobs.push(s),null!==(l=this._timer)&&void 0!==l||(this._timer=setTimeout(this._process,10)),s.resolve.promise}_process(){this._timer=null;const e=this._jobs.shift();if(!e)return;const{geometries:t,inSpatialReference:n,outSpatialReference:i,resolve:r,geographicTransformation:u}=e;(0,a.y7)(n,i)?(0,o.K8)(i)?r(t.map(m)):r(t.map(p)):r((0,l.projectMany)(s.g,t,n,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function y(e,t,n,i){return g.push(e,t,n,i)}},71857:(e,t,n)=>{n.d(t,{GC:()=>h,T2:()=>m,v8:()=>f});var i=n(45802),r=n(31633),l=n(26346),s=n(27084),o=n(19902),a=n(1438),u=n(80963),c=n(24586);const d=new i.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),f=Object.freeze({});async function h(e,t,n){const{outFields:i,orderByFields:r,groupByFieldsForStatistics:l,outStatistics:s}=e;if(i)for(let o=0;o<i.length;o++)i[o]=i[o].trim();if(r)for(let o=0;o<r.length;o++)r[o]=r[o].trim();if(l)for(let o=0;o<l.length;o++)l[o]=l[o].trim();if(s)for(let o=0;o<s.length;o++)s[o].onStatisticField&&(s[o].onStatisticField=s[o].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),m(e,t,n)}async function m(e,t,i){var l;if(!e)return null;let{where:h}=e;if(e.where=h=null===(l=h)||void 0===l?void 0:l.trim(),(!h||/^1 *= *1$/.test(h)||t&&t===h)&&(e.where=null),!e.geometry)return e;let m=await async function(e){const{distance:t,units:i}=e,l=e.geometry;if(null==t||"vertexAttributes"in l)return l;const s=l.spatialReference,o=i?d.fromJSON(i):(0,r.Ij)(s),a=s&&((0,u.EA)(s)||(0,u.K8)(s))?l:await(0,c.Nk)(s,u.KK).then((()=>(0,c.Cv)(l,u.KK)));return(await async function(){return(await n.e(4050).then(n.bind(n,1669))).geodesicBuffer}())(a.spatialReference,a,t,o)}(e);if(e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel){const{spatialReference:t}=e.geometry;m=(0,s.HA)(m),m.spatialReference=t}if(m){var v;await(0,c.Nk)(m.spatialReference,i),m=function(e,t){const n=e.spatialReference;return p(e,t)&&(0,o.ZC)(e)?{spatialReference:n,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}:e}(m,i);const t=(await(0,a.el)((0,o.rS)(m)))[0];if(null==t)throw f;const n="quantizationParameters"in e&&(null===(v=e.quantizationParameters)||void 0===v?void 0:v.tolerance)||"maxAllowableOffset"in e&&e.maxAllowableOffset||0,r=n&&p(m,i)?{densificationStep:8*n}:void 0,l=t.toJSON(),s=(0,c.Cv)(l,l.spatialReference,i,r);if(!s)throw f;s.spatialReference=i,e.geometry=s}return e}function p(e,t){if(!e)return!1;const n=e.spatialReference;return((0,o.ZC)(e)||(0,o.Bi)(e)||(0,o.Rg)(e))&&!(0,u.aI)(n,t)&&!(0,l.canProjectWithoutEngine)(n,t)}},81376:(e,t,n)=>{n.d(t,{tC:()=>R,c0:()=>F,xt:()=>S});var i=n(50076),r=n(11352),l=n(65658);var s=n(19902),o=n(80963);function a(e,t){return e?t?4:3:t?3:2}function u(e,t,n,i,r,l){const s=a(r,l),{coords:o,lengths:u}=i;if(!u)return!1;for(let a=0,d=0;a<u.length;a++,d+=s)if(!c(e,t,n,o[d],o[d+1]))return!1;return!0}function c(e,t,n,i,r){if(!e)return!1;const l=a(t,n),{coords:s,lengths:o}=e;let u=!1,c=0;for(const a of o)u=d(u,s,l,c,a,i,r),c+=a*l;return u}function d(e,t,n,i,r,l,s){let o=e,a=i;for(let u=i,c=i+r*n;u<c;u+=n){a=u+n,a===c&&(a=i);const e=t[u],r=t[u+1],d=t[a],f=t[a+1];(r<s&&f>=s||f<s&&r>=s)&&e+(s-r)/(f-r)*(d-e)<l&&(o=!o)}return o}var f=n(98618),h=n(1484),m=n(55167),p=n(24586);const v="unsupported-query",g={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},y={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function S(e,t,i,o,a){if((0,s.Bi)(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,f.Ye)(new h.A,t,!1,!1);return Promise.resolve((t=>function(e,t,n,i){return c(e,t,n,i.coords[0],i.coords[1])}(e,!1,!1,t)))}if((0,s.Bi)(t)&&"esriGeometryMultipoint"===i){const n=(0,f.Ye)(new h.A,t,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve((e=>u(n,!1,!1,e,o,a)))}if((0,s.ZC)(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve((e=>(0,r.qz)(t,(0,m.pL)(i,o,a,e))));if((0,s.ZC)(t)&&"esriGeometryMultipoint"===i&&"esriSpatialRelContains"===e)return Promise.resolve((e=>(0,r.rL)(t,(0,m.pL)(i,o,a,e))));if((0,s.ZC)(t)&&"esriSpatialRelIntersects"===e){const e=function(e){return"mesh"===e?l.xB:(0,l.xK)(e)}(i);return Promise.resolve((n=>e(t,(0,m.pL)(i,o,a,n))))}return n.e(4050).then(n.bind(n,1669)).then((n=>{const r=n[g[e]].bind(null,t.spatialReference,t);return e=>r((0,m.pL)(i,o,a,e))}))}async function F(e,t,n){const{spatialRel:r,geometry:l}=e;if(l){if(!function(e){return null!=e&&!0===y.spatialRelationship[e]}(r))throw new i.A(v,"Unsupported query spatial relationship",{query:e});if((0,o.fn)(l.spatialReference)&&(0,o.fn)(n)){var a;if(!function(e){return null!=e&&!0===y.queryGeometry[(0,s.$B)(e)]}(l))throw new i.A(v,"Unsupported query geometry type",{query:e});if(!function(e){return null!=e&&!0===y.layerGeometry[e]}(t))throw new i.A(v,"Unsupported layer geometry type",{query:e});if(e.outSR)return(0,p.Nk)(null===(a=e.geometry)||void 0===a?void 0:a.spatialReference,e.outSR)}}}function R(e){if((0,s.ZC)(e))return!0;if((0,s.Bi)(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}},23478:(e,t,n)=>{async function i(e,t){if(!e)return null;const n=t.featureAdapter,{startTimeField:i,endTimeField:r}=e;let l=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;if(i&&r)await t.forEach((e=>{const t=n.getAttribute(e,i),o=n.getAttribute(e,r);null==t||isNaN(t)||(l=Math.min(l,t)),null==o||isNaN(o)||(s=Math.max(s,o))}));else{const e=i||r;await t.forEach((t=>{const i=n.getAttribute(t,e);null==i||isNaN(i)||(l=Math.min(l,i),s=Math.max(s,i))}))}return{start:l,end:s}}function r(e,t,n){var i,r;if(!t||!e)return null;const{startTimeField:l,endTimeField:s}=e;if(!l&&!s)return null;const{start:o,end:a}=t;if(null===o&&null===a)return null;if(void 0===o&&void 0===a)return()=>!1;const u=null!==(i=null===(r=n.getAttributeAsTimestamp)||void 0===r?void 0:r.bind(n))&&void 0!==i?i:n.getAttribute.bind(n);return l&&s?function(e,t,n,i,r){return null!=i&&null!=r?l=>{const s=e(l,t),o=e(l,n);return(null==s||s<=r)&&(null==o||o>=i)}:null!=i?t=>{const r=e(t,n);return null==r||r>=i}:null!=r?n=>{const i=e(n,t);return null==i||i<=r}:void 0}(u,l,s,o,a):function(e,t,n,i){return null!=n&&null!=i&&n===i?i=>e(i,t)===n:null!=n&&null!=i?r=>{const l=e(r,t);return null!=l&&l>=n&&l<=i}:null!=n?i=>{const r=e(i,t);return null!=r&&r>=n}:null!=i?n=>{const r=e(n,t);return null!=r&&r<=i}:void 0}(u,l||s,o,a)}n.d(t,{I:()=>r,W:()=>i})},1900:(e,t,n)=>{n.d(t,{A:()=>f});var i=n(50076),r=n(42553),l=n(76460),s=n(87663),o=n(64920),a=n(53430),u=n(67478),c=n(24241);const d=new Map;class f{static fromJSON(e){return new f(e.fields,e.timeZoneByFieldName)}static fromLayer(e){var t;return new f(null!==(t=e.fields)&&void 0!==t?t:[],v(e))}static fromLayerJSON(e){var t;return new f(null!==(t=e.fields)&&void 0!==t?t:[],v(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const n=[];for(const r of this.fields){const e=null===r||void 0===r?void 0:r.name,t=m(e);if(e&&t){var i;const l=h(e);this._fieldsMap.set(e,r),this._fieldsMap.set(l,r),this._normalizedFieldsMap.set(t,r),n.push("".concat(l,":").concat(r.type,":").concat(null===(i=this._timeZoneByFieldName)||void 0===i?void 0:i.get(e))),(0,a.vE)(r)?(this.dateFields.push(r),this._dateFieldsSet.add(r)):(0,a.WA)(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r)),(0,a.te)(r)||(0,a.Xz)(r)||(r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.te)(e)||(0,a.Xz)(e)||e.nullable||void 0!==(0,a.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(null===e||void 0===e?void 0:e.uid)}has(e){return null!=this.get(e)}get(e){var t;if(!e)return;let n=this._fieldsMap.get(e);return n||(n=null!==(t=this._fieldsMap.get(h(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(m(e)),n&&this._fieldsMap.set(e,n),n)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(l.A.getLogger("esri.layers.support.FieldsIndex").error(new i.A("getTimeZone:no-timezone-information","no time zone information for field '".concat(t.name,"'"))),u.n$):p.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?o.GB.instance:t===u.n$?c.mQ.utcInstance:(0,s.tE)(d,t,(()=>c.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var t,n;return null!==(t=null===(n=this.get(e))||void 0===n?void 0:n.name)&&void 0!==t?t:void 0}toJSON(){return{fields:this.fields.map((e=>(0,r.Wj)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function h(e){return e.trim().toLowerCase()}function m(e){var t,n;return null!==(t=null===(n=(0,a.rS)(e))||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:""}const p=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function v(e){var t,n,i,r,l,s,o;const a=new Map;if(!e.fields)return a;const c=!0===e.datesInUnknownTimezone,{timeInfo:d,editFieldsInfo:f}=e,m=null!==(t=d?"startField"in d?d.startField:d.startTimeField:"")&&void 0!==t?t:"",v=null!==(n=d?"endField"in d?d.endField:d.endTimeField:"")&&void 0!==n?n:"",g=function(e){return"dateFieldsTimeZone"in e}(e)?null!==(i=e.dateFieldsTimeZone)&&void 0!==i?i:null:e.dateFieldsTimeReference?(0,u.ZS)(e.dateFieldsTimeReference):null,y=f?function(e){return"timeZone"in e}(f)?null!==(r=f.timeZone)&&void 0!==r?r:g:f.dateFieldsTimeReference?(0,u.ZS)(f.dateFieldsTimeReference):null!==g&&void 0!==g?g:u.n$:null,S=d?function(e){return"timeZone"in e}(d)?null!==(l=d.timeZone)&&void 0!==l?l:g:d.timeReference?(0,u.ZS)(d.timeReference):g:null,F=new Map([[h(null!==(s=null===f||void 0===f?void 0:f.creationDateField)&&void 0!==s?s:""),y],[h(null!==(o=null===f||void 0===f?void 0:f.editDateField)&&void 0!==o?o:""),y],[h(m),S],[h(v),S]]);for(const{name:x,type:I}of e.fields)if(p.has(I))a.set(x,u.L5);else if("date"!==I&&"esriFieldTypeDate"!==I)a.set(x,null);else if(c)a.set(x,u.L5);else{var R;const e=null!==(R=F.get(h(null!==x&&void 0!==x?x:"")))&&void 0!==R?R:g;a.set(x,e)}return a}}}]);
//# sourceMappingURL=842.7e70c169.chunk.js.map